(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{23:function(e,t,a){e.exports=a(35)},28:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),n=a(12),l=a.n(n),c=a(8),d=a(3),o=(a(28),a(6)),i=a(5);const m=e=>({type:"ADD_USER",payload:e}),u=e=>({type:"DELETE_USER",payload:e}),h=(e,t,a,s)=>({type:"UPDATE_USER",payload:{id:e,name:t,grade:a,school:s}});class E extends s.Component{constructor(...e){super(...e),this.deleteUser=()=>{if(!0===window.confirm("Do you want to delete this item")){const e=this.props.user.id;this.props.deleteUser(e)}},this.handleClick=e=>{e.preventDefault(),this.props.history.push({pathname:"/details/".concat(this.props.user.id),state:{detail:this.props.user}})}}render(){const e=this.props.user,t=e.name,a=e.grade,s=e.school;return r.a.createElement("tr",{key:this.props.index},r.a.createElement("td",null,t),r.a.createElement("td",null,a),r.a.createElement("td",null,s),r.a.createElement("td",null,r.a.createElement("i",{className:"far fa-edit",onClick:this.handleClick})),r.a.createElement("td",null,r.a.createElement("i",{className:"fas fa-trash",onClick:this.deleteUser})))}}var p=Object(o.b)(e=>({users:e.users}),e=>Object(i.a)({deleteUser:u},e))(Object(c.e)(E));class b extends s.Component{render(){const e=this.props.users.map((e,t)=>r.a.createElement(p,{key:t,user:e,index:t}));return r.a.createElement("tbody",null,e)}}var N=Object(o.b)(e=>({users:e.users}))(b);class v extends s.Component{constructor(...e){super(...e),this.addNewUser=()=>{const e=this.props,t=e.users;(0,e.addUser)({id:Math.max(...t.map((function(e){return e.id})))+1,name:"",grade:1,school:""})}}render(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header text-center font-weight-bold"},"Users Registry"),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-hover text-center"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Grade"),r.a.createElement("th",null,"School"),r.a.createElement("th",null,"Edit"),r.a.createElement("th",null,"Delete"))),r.a.createElement(N,null)),r.a.createElement("button",{type:"button",className:"btn btn-dark pull-left",onClick:this.addNewUser},"Add New"))))))}}var y=Object(o.b)(e=>({users:e.users}),e=>Object(i.a)({addUser:m},e))(v),U=a(10);class f extends s.Component{constructor(...e){super(...e),this.state={isEdit:!1,selectedUserIndex:null},this.componentWillMount=()=>{const e=this.props.users.findIndex(e=>e.id===this.props.location.state.detail.id);this.setState({selectedUserIndex:e})},this.editUser=()=>{this.setState(e=>({isEdit:!e.isEdit}))},this.editUserSubmit=()=>{this.props.updateUser(this.props.users[this.state.selectedUserIndex].id,this.nameInput.value,this.gradeInput.value,this.schoolInput.value),this.setState(e=>({isEdit:!e.isEdit}))}}render(){const e=this.props.users[this.state.selectedUserIndex],t=e.name,a=e.grade,s=e.school;return r.a.createElement("div",{className:"DetailsCard container-fluid text-center"},r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header font-weight-bold"},"User details"),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Grade"),r.a.createElement("th",null,"School"),r.a.createElement("th",null,"Change Data"))),r.a.createElement("tbody",null,this.state.isEdit?r.a.createElement("tr",{className:"bg-warning",key:this.props.index},r.a.createElement("td",null,r.a.createElement("input",{ref:e=>this.nameInput=e,defaultValue:t})),r.a.createElement("td",null,r.a.createElement("input",{defaultValue:a,ref:e=>this.gradeInput=e})),r.a.createElement("td",null,r.a.createElement("input",{ref:e=>this.schoolInput=e,defaultValue:s})),r.a.createElement("td",null,r.a.createElement("i",{className:"far fa-save",onClick:this.editUserSubmit}))):r.a.createElement("tr",{key:this.props.index},r.a.createElement("td",null,t),r.a.createElement("td",null,a),r.a.createElement("td",null,s),r.a.createElement("td",null,r.a.createElement("i",{className:"far fa-edit",onClick:this.editUser}))))),r.a.createElement(U.a,{to:"/"},r.a.createElement("button",{type:"button",className:"btn btn-dark"},"Back")))))))}}var g=Object(o.b)(e=>({users:e.users}),e=>Object(i.a)({updateUser:h},e))(f);a(34);class w extends s.Component{render(){return r.a.createElement("div",{className:"App"},r.a.createElement(c.a,{path:"/",exact:!0,component:y}),r.a.createElement(c.a,{path:"/details/:id",component:g}))}}var x=w;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=a(22);const S={users:[{id:1,name:"John Doe",grade:1,school:"MIT"},{id:2,name:"Niel Tyson",grade:2,school:"NASA University"},{id:3,name:"Terry Adams",grade:3,school:"Hogvarts"},{id:4,name:"Jenny Smith",grade:4,school:"Sakuraso Art School"}]};var D=(e=S,t)=>{switch(t.type){case"ADD_USER":{const a=t.payload;return{users:[...e.users,a]}}case"DELETE_USER":{const a=e.users.filter(e=>e.id!==t.payload);return Object(k.a)({},e,{users:a})}case"UPDATE_USER":return console.log("payload",t.payload),{users:e.users.map(e=>{const a=t.payload,s=a.id,r=a.name,n=a.grade,l=a.school;return e.id===s&&(e.name=r,e.grade=n,e.school=l),e})};default:return e}};const _=Object(i.b)(D,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),O=Object(d.a)({basename:"/sandbox-simple-react-crud-with-redux"});l.a.render(r.a.createElement(c.b,{history:O},r.a.createElement(o.a,{store:_},r.a.createElement(x,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.d220a321.chunk.js.map